<header class="sticky top-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg shadow-md">
    <div class="max-w-7xl mx-auto flex items-center justify-between px-6 py-4">

        <div class="flex items-center text-xl font-bold group">
            <i data-lucide="sparkles" class="w-6 h-6 text-indigo-400 group-hover:animate-spin-slow"></i>
            <span class="ml-2 text-indigo-500 group-hover:text-indigo-700 transition">Mahen</span>
        </div>

        <nav class="hidden md:flex gap-6 text-sm font-medium">
            <a href="#home" class="hover:text-indigo-600 transition">Home</a>
            <a href="#projects" class="hover:text-indigo-600 transition">Projects</a>
            <a href="#contact" class="hover:text-indigo-600 transition">Contact</a>
        </nav>

        <div class="flex items-center gap-3">
            <button id="dark-toggle"
                class="p-2 bg-gray-200 dark:bg-gray-700 rounded-md transition text-gray-800 dark:text-white">
                <i id="sun-icon" data-lucide="sun" class="w-5 h-5 block dark:hidden"></i>
                <i id="moon-icon" data-lucide="moon" class="w-5 h-5 hidden dark:block"></i>
            </button>
            <button id="menu-toggle" class="md:hidden">
                <i data-lucide="menu" class="w-6 h-6 text-gray-700 dark:text-white"></i>
            </button>
        </div>
    </div>

    <div id="mobile-menu" class="md:hidden px-6 pb-4 hidden flex-col space-y-2">
        <a href="#home" class="block hover:text-indigo-600 transition">Home</a>
        <a href="#projects" class="block hover:text-indigo-600 transition">Projects</a>
        <a href="#contact" class="block hover:text-indigo-600 transition">Contact</a>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            const menuBtn = document.getElementById('menu-toggle');
            const menu = document.getElementById('mobile-menu');
            const darkToggle = document.getElementById('dark-toggle');
            const html = document.documentElement;
            const sun = document.getElementById('sun-icon');
            const moon = document.getElementById('moon-icon');

            if (localStorage.theme === "dark") html.classList.add("dark");
            darkToggle.addEventListener("click", () => {
                html.classList.toggle("dark");
                localStorage.theme = html.classList.contains("dark") ? "dark" : "light";
            });

            menuBtn.addEventListener("click", () => menu.classList.toggle("hidden"));
        });
    </script>
</header>